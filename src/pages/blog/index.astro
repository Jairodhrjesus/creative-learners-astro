---
import { getCollection } from "astro:content";
import Layout from "../../layouts/Layout.astro";

const posts = (await getCollection("blog")).sort(
    (a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf(),
);
---

<Layout title="Our Blog | Creative Learners Child Care">
    <main class="bg-white">
        {/* Header Section */}
        <section
            class="bg-brand-card py-24 border-b border-brand-primary/5 relative overflow-hidden"
        >
            <div class="absolute inset-0 bg-grid-slate-100/[0.5] -z-10"></div>
            <div class="container mx-auto px-6 relative z-10 text-center">
                <span
                    class="text-brand-accent font-black uppercase tracking-[0.2em] text-xs mb-4 block"
                    >Education & Community</span
                >
                <h1
                    class="text-5xl md:text-7xl font-black font-heading text-slate-950 leading-[0.95] mb-6 tracking-tight"
                >
                    Creative Learners <span class="text-brand-primary"
                        >Blog</span
                    >
                </h1>
                <p class="text-xl text-slate-600 font-medium max-w-2xl mx-auto">
                    Insights into early childhood development, parenting tips,
                    and the latest news from our Pleasanton childcare community.
                </p>
            </div>
        </section>

        {/* Blog Grid Section */}
        <section class="py-24">
            <div class="container mx-auto px-6">
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-12">
                    {
                        posts.map((post) => (
                            <article class="group bg-white rounded-[2.5rem] overflow-hidden shadow-2xl shadow-slate-200/50 border border-slate-100 p-2 hover:translate-y-[-8px] transition-all duration-500">
                                <div class="bg-brand-card rounded-[2rem] p-10 h-full flex flex-col">
                                    <div class="flex items-center gap-3 mb-6">
                                        <span class="px-3 py-1 bg-white rounded-full text-[10px] font-black uppercase tracking-widest text-brand-primary border border-brand-primary/10">
                                            {post.data.pubDate.toLocaleDateString(
                                                "en-US",
                                                {
                                                    month: "short",
                                                    day: "numeric",
                                                    year: "numeric",
                                                },
                                            )}
                                        </span>
                                    </div>
                                    <h2 class="text-2xl font-black text-slate-950 mb-4 font-heading leading-tight group-hover:text-brand-primary transition-colors">
                                        {post.data.title}
                                    </h2>
                                    <p class="text-slate-600 font-medium line-clamp-3 mb-8 flex-1">
                                        {post.data.description}
                                    </p>
                                    <a
                                        href={`/blog/${post.slug}`}
                                        class="inline-flex items-center gap-2 text-brand-primary font-black uppercase tracking-wider text-xs group/link"
                                    >
                                        Read Article
                                        <svg
                                            class="w-4 h-4 group-hover/link:translate-x-1 transition-transform"
                                            fill="none"
                                            stroke="currentColor"
                                            viewBox="0 0 24 24"
                                        >
                                            <path
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                stroke-width="3"
                                                d="M17 8l4 4m0 0l-4 4m4-4H3"
                                            />
                                        </svg>
                                    </a>
                                </div>
                            </article>
                        ))
                    }
                </div>
            </div>
        </section>
    </main>
</Layout>
